---
jas-index-gcsa-pt-grch38-gc38-k32-0302-2217
TIME=20220302-2217 IMAGE=quay.io/jsibbesen/vg-s3script:vg-1.38.0-s2 MEMORY=320 CPU=8 DISK=2200
s3://vg-k8s/users/jsibbesen/hprc/pilot/pantranscriptomes/grch38_gencode38_vgrna_k32/index_gcsa.sh
CPU=8
---
Completed 594 Bytes/594 Bytes (6.0 KiB/s) with 1 file(s) remainingdownload: s3://vg-k8s/users/jsibbesen/hprc/pilot/pantranscriptomes/grch38_gencode38_vgrna_k32/index_gcsa.sh to ./index_gcsa.sh
download: s3://vg-k8s/users/jsibbesen/hprc/pilot/pantranscriptomes/grch38_gencode38_vgrna_k32/grch38_gencode38_vgrna_k32.pg to ./grch38_gencode38_vgrna_k32.pg
Original graph grch38_gencode38_vgrna_k32.pg: 98036524 nodes, 98425050 edges
Built a temporary XG index
Removed all paths
Pruned complex regions: 98036524 nodes, 98424917 edges
Removed small subgraphs: 98036498 nodes, 98424902 edges
Restored graph: 98036524 nodes
Serialized the graph: 98036524 nodes, 98425050 edges
	Command being timed: "bash -c vg prune -p -t 8 -r grch38_gencode38_vgrna_k32.pg > graph.pruned.pg"
	User time (seconds): 3806.16
	System time (seconds): 70.25
	Percent of CPU this job got: 191%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 33:40.60
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 23200488
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 0
	Minor (reclaiming a frame) page faults: 6096348
	Voluntary context switches: 5475028
	Involuntary context switches: 9153
	Swaps: 0
	File system inputs: 0
	File system outputs: 70273768
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
Generating kmer files...
Building the GCSA2 index...
InputGraph::InputGraph(): 6224050844 kmers in 1 file(s)
InputGraph::read(): Read 6224050844 16-mers from /tmp/vg-rL0XiB/vg-kmers-tmp-QMCE9C
InputGraph::readKeys(): 1602687707 unique keys
InputGraph::read(): Read 6224050844 16-mers from /tmp/vg-rL0XiB/vg-kmers-tmp-QMCE9C
InputGraph::readFrom(): 6211430143 unique start nodes
InputGraph::read(): Read 6224050844 16-mers from /tmp/vg-rL0XiB/vg-kmers-tmp-QMCE9C
PathGraph::PathGraph(): 6224050844 paths with 12448101688 ranks
PathGraph::PathGraph(): 185.491 GB in 1 file(s)
GCSA::GCSA(): Preprocessing: 1650.31 seconds, 199.455 GB
GCSA::GCSA(): Prefix-doubling from path length 16
GCSA::GCSA(): Step 1 (path length 16 -> 32)
PathGraph::prune(): 6224050844 -> 6223443998 paths (1602557668 ranges)
PathGraph::prune(): 694127015 unique, 0 redundant, 5529278904 unsorted, 38079 nondeterministic paths
PathGraph::prune(): 185.473 GB in 1 file(s)
PathGraph::read(): File 0: Read 6223443998 order-16 paths
PathGraph::extend(): File 0: Created 6232457242 order-32 paths
PathGraph::read(): File 0: Read 6232457242 order-32 paths
PathGraphBuilder::sort(): File 0: Sorted 6232457242 paths
PathGraph::extend(): 6223443998 -> 6232457242 paths (18003206632 ranks)
PathGraph::extend(): 206.373 GB in 1 file(s)
GCSA::GCSA(): Step 2 (path length 32 -> 64)
PathGraph::prune(): 6232457242 -> 6224628902 paths (5053420475 ranges)
PathGraph::prune(): 4897577567 unique, 0 redundant, 1326536830 unsorted, 514505 nondeterministic paths
PathGraph::prune(): 206.111 GB in 1 file(s)
PathGraph::read(): File 0: Read 6224628902 order-32 paths
PathGraph::extend(): File 0: Created 6226644801 order-64 paths
PathGraph::read(): File 0: Read 6226644801 order-64 paths
PathGraphBuilder::sort(): File 0: Sorted 6226644801 paths
PathGraph::extend(): 6224628902 -> 6226644801 paths (20620278825 ranks)
PathGraph::extend(): 215.993 GB in 1 file(s)
GCSA::GCSA(): Step 3 (path length 64 -> 128)
PathGraph::prune(): 6226644801 -> 6226303912 paths (5554882910 ranges)
PathGraph::prune(): 5455599175 unique, 0 redundant, 768933395 unsorted, 1771342 nondeterministic paths
PathGraph::prune(): 215.979 GB in 1 file(s)
PathGraph::read(): File 0: Read 6226303912 order-64 paths
PathGraph::extend(): File 0: Created 6229063171 order-128 paths
PathGraph::read(): File 0: Read 6229063171 order-128 paths
PathGraphBuilder::sort(): File 0: Sorted 6229063171 paths
PathGraph::extend(): 6226303912 -> 6229063171 paths (23591537276 ranks)
PathGraph::extend(): 227.116 GB in 1 file(s)
GCSA::GCSA(): Step 4 (path length 128 -> 256)
PathGraph::prune(): 6229063171 -> 6228883599 paths (5712517784 ranges)
PathGraph::prune(): 5644289018 unique, 0 redundant, 582684308 unsorted, 1910273 nondeterministic paths
PathGraph::prune(): 227.106 GB in 1 file(s)
PathGraph::read(): File 0: Read 6228883599 order-128 paths
PathGraph::extend(): File 0: Created 6234450533 order-256 paths
PathGraph::read(): File 0: Read 6234450533 order-256 paths
PathGraphBuilder::sort(): File 0: Sorted 6234450533 paths
PathGraph::extend(): 6228883599 -> 6234450533 paths (28151749754 ranks)
PathGraph::extend(): 244.224 GB in 1 file(s)
GCSA::GCSA(): Prefix-doubling: 25845.2 seconds, 262.627 GB
GCSA::GCSA(): Merging the paths
MergedGraph::MergedGraph(): 5788063779 paths with 20573474325 ranks and 443328823 additional start nodes
MergedGraph::MergedGraph(): 218.012 GB
GCSA::GCSA(): Merging: 2689.81 seconds, 262.627 GB
GCSA::GCSA(): Building the index
GCSA::GCSA(): Construction: 10540.2 seconds, 262.627 GB
GCSA::GCSA(): 5788063779 paths, 5789206352 edges
GCSA::GCSA(): 6231392602 pointers (19962459 redundant)
GCSA::GCSA(): 558590872 samples at 186830020 positions
LCPArray::LCPArray(): Construction: 92.6653 seconds, 262.627 GB
LCPArray::LCPArray(): 5879937810 values at 7 levels (branching factor 64)
GCSA2 index built in 42021.4 seconds, 262.627 GB
I/O volume: 3660.87 GB read, 3164.7 GB write
Saving GCSA to grch38_gencode38_vgrna_k32.gcsa
Saving LCP to grch38_gencode38_vgrna_k32.gcsa.lcp
Memory usage: 262.627 GB
	Command being timed: "bash -c vg index -p -t 8 -g grch38_gencode38_vgrna_k32.gcsa graph.pruned.pg"
	User time (seconds): 91741.94
	System time (seconds): 11642.03
	Percent of CPU this job got: 245%
	Elapsed (wall clock) time (h:mm:ss or m:ss): 11:40:29
	Average shared text size (kbytes): 0
	Average unshared data size (kbytes): 0
	Average stack size (kbytes): 0
	Average total size (kbytes): 0
	Maximum resident set size (kbytes): 275384788
	Average resident set size (kbytes): 0
	Major (requiring I/O) page faults: 49
	Minor (reclaiming a frame) page faults: 4104910327
	Voluntary context switches: 406378
	Involuntary context switches: 932119
	Swaps: 0
	File system inputs: 5883403160
	File system outputs: 6665148176
	Socket messages sent: 0
	Socket messages received: 0
	Signals delivered: 0
	Page size (bytes): 4096
	Exit status: 0
upload: ./grch38_gencode38_vgrna_k32.gcsa.lcp to s3://vg-k8s/users/jsibbesen/hprc/pilot/pantranscriptomes/grch38_gencode38_vgrna_k32/grch38_gencode38_vgrna_k32.gcsa.lcp
upload: ./grch38_gencode38_vgrna_k32.gcsa to s3://vg-k8s/users/jsibbesen/hprc/pilot/pantranscriptomes/grch38_gencode38_vgrna_k32/grch38_gencode38_vgrna_k32.gcsa
---
